(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{2268:function(e,t,n){"use strict";n.r(t),n.d(t,"FileStoragePicker",function(){return ee});var l=n(0),i=n(3),r=n.n(i),o=n(14),a=n.n(o),c=n(17),u=n.n(c),s=n(11),d=n.n(s),f=n(9),p=n(1),m=n(2),g=n(16),v=n(70),h=n(30),b=n(24),x=n(989),w=n(591),y=n(33),E=n(110),C=n(370),j=n(28),k=n(72),O=n(358),S=n(429),I=n(710),T=n(709),M=n(539),F=n(415),L=n(416);function z(){var e=d()(["\n    display: none;\n  "]);return z=function(){return e},e}var q=p.default.div.withConfig({componentId:"sc-1t22ec7-0"})(["flex:1 1 auto;display:flex;flex-direction:column;color:",";"],String(m.t)),D=p.default.div.withConfig({componentId:"sc-1t22ec7-1"})(["display:flex;color:",";margin:16px 24px;",""],String(m.w),m.pb(m.qb)(z())),P=p.default.div.withConfig({componentId:"sc-1t22ec7-2"})([""," flex:1 1 auto;"],j.c),_=p.default.div.withConfig({componentId:"sc-1t22ec7-3"})(["",""],j.d);function A(e){var t=e.withMultiSelection,n=e.acceptContentTypes,i=Object(k.h)(),r=Object(O.a)(),o=Object(E.m)(),a=Object(E.k)(),c=a.filesLoading,u=a.filesLoadingFailure,s=Object(g.a)();l.useEffect(function(){i({type:k.b.AcceptContentTypesChanged,payload:null===n?"all":n})},[n]);return l.createElement(l.Fragment,null,l.createElement(D,null,l.createElement(P,null,s("new:194fiv")),void 0!==o&&0!==o.length&&l.createElement(_,null,1===r.length?s("new:1avumq"):s("new:1avun3",{number_of_result:r.length}))),l.createElement(q,null,l.createElement(M.a,{isSortable:!0,withMultiSelection:t,filesCount:r.length}),c?l.createElement(T.a,{withMultiSelection:t}):u?l.createElement(I.a,null):0===r.length?l.createElement(S.a,{dashed:!1},void 0!==o&&0!==o.length?s("new:194gx3"):s("new:1bk32g")):l.createElement(F.a,{withVirtualList:!0,withMultiSelection:t,files:r},function(e){return l.createElement(L.a,{file:e,withMultiSelection:t,isDisabled:!(null==n?void 0:n.includes(e.handle.contentType||""))})})))}var J=n(18),H=n(344),N=n(53),U=n(43);var V=n(27);function B(){var e=d()(["\n    padding: ","px 0;\n  "]);return B=function(){return e},e}var G=p.default.div.withConfig({componentId:"lsjhg8-0"})(["flex:1 1 auto;width:100%;display:flex;flex-direction:column;"]),K=p.default.div.withConfig({componentId:"lsjhg8-1"})(["flex:1 1 auto;display:flex;flex-direction:column;position:relative;"]),Q=p.default.div.withConfig({componentId:"lsjhg8-2"})(["display:flex;flex-direction:row;align-items:center;"]),R=p.default.div.withConfig({componentId:"lsjhg8-3"})(["margin-left:24px;display:flex;flex-direction:row;align-items:center;padding:16px 0;flex:1 1 auto;",""],m.rb(m.ub)(B(),14)),W=p.default.div.withConfig({componentId:"lsjhg8-4"})(["position:relative;display:flex;flex-direction:row;flex:1 1 auto;user-select:none;"]),X=p.default.div.withConfig({componentId:"lsjhg8-5"})(["display:flex;flex-direction:row;align-items:center;justify-content:flex-end;padding:12px;"]),Y=p.default.div.withConfig({componentId:"lsjhg8-6"})(["display:flex;margin:4px;"]),Z=p.default.div.withConfig({componentId:"lsjhg8-7"})(["margin:16px;text-align:center;"]);function $(e){var t,n,i=e.onSubmit,o=e.onClose,c=e.withMultiple,s=e.acceptContentTypes,d=Object(C.a)(),p=Object(E.n)(),m=Object(E.p)(),j=(t=Object(f.useStore)(),n=Object(U.c)(),l.useCallback(function(){var e=a()(r.a.mark(function e(l){var i,o,c,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.getState(),o=Object(J.d)(i),c=n(),u=[],e.prev=4,e.next=7,Promise.all(l.map(function(){var e=a()(r.a.mark(function e(t){var n,l,i,a,u,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.handle,a=i.name,u=null!==(n=null===(l=i.storages[N.e.LongTerm])||void 0===l?void 0:l.token)&&void 0!==n?n:"",e.next=5,Object(E.a)(o,c,u,a);case 5:return s=e.sent,e.abrupt("return",Object(N.h)({name:a,token:s}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 7:u=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),Object(H.c)();case 13:return e.abrupt("return",{workflow:{type:N.g.Normal},fileHandles:u,source:"smallpdf_storage",isDragAndDrop:!1});case 14:case"end":return e.stop()}},e,null,[[4,10]])}));return function(t){return e.apply(this,arguments)}}(),[])),k=Object(v.b)(),O=Object(g.a)(),S=Object(f.useSelector)(b.r),I=l.useState(!1),T=u()(I,2),M=T[0],F=T[1];l.useEffect(function(){S?d():(k.log(Object(h.c)({message:"File storage picker unit triggered without logged-in user",severity:h.a.Unexpected})),F(!0))},[S]);var L=l.useCallback(a()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(m);case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}},e)})),[m]);return M?l.createElement(Z,null,"Log in to use the Smallpdf File Picker"):l.createElement(G,null,l.createElement(W,null,l.createElement(x.a,null,l.createElement(V.p,{isSelected:!0,label:O("new:194fiv")})),l.createElement(K,null,l.createElement(Q,null,l.createElement(R,null,l.createElement(w.a,null))),l.createElement(V.e,null),l.createElement(A,{withMultiSelection:c,acceptContentTypes:s}),l.createElement(V.e,null),l.createElement(X,null,l.createElement(Y,null,l.createElement(y.b,{layout:"secondary",size:"medium",onClick:o},O("new:194i3u"))),l.createElement(Y,null,l.createElement(y.b,{layout:"primary",size:"medium",onClick:L,disabled:0===p.size},O("new:1afeyx")))))))}function ee(e){var t=e.onSubmit,n=e.onClose,i=e.withMultiple,r=e.acceptContentTypes;return l.createElement($,{onClose:n,onSubmit:t,withMultiple:i,acceptContentTypes:r})}},989:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var l=n(11),i=n.n(l),r=n(0),o=n(1),a=n(2),c=n(27),u=n(432),s=n.n(u);function d(){var e=i()(["\n      left: 0;\n    "]);return d=function(){return e},e}function f(){var e=i()(["\n    position: absolute;\n  "]);return f=function(){return e},e}function p(){var e=i()(["\n    display: none;\n  "]);return p=function(){return e},e}function m(){var e=i()(["\n      display: flex;\n    "]);return m=function(){return e},e}function g(){var e=i()(["\n    z-index: ",";\n  "]);return g=function(){return e},e}var v=o.default.div.withConfig({componentId:"vlxlvx-0"})(["display:flex;flex:0 0 auto;",""],a.rb(a.sb)(g(),a.rc)),h=o.default.div.withConfig({componentId:"vlxlvx-1"})(["position:absolute;background-color:",";top:0;left:0;right:0;bottom:0;display:none;",""],String(a.lc(a.w,.5)),function(e){return e.isTriggered&&Object(o.css)(["",""],a.rb(a.sb)(m()))}),b=o.default.div.withConfig({componentId:"vlxlvx-2"})(["height:72px;display:flex;align-items:center;padding-left:8px;",""],a.pb(a.qb)(p())),x=o.default.div.withConfig({componentId:"vlxlvx-3"})(["display:flex;flex-direction:column;transition:left ",";left:-272px;bottom:0;top:0;width:272px;background-color:",";",";",""],a.Cb,String(a.n),a.rb(a.sb)(f()),function(e){return e.isTriggered&&Object(o.css)(["",";"],a.rb(a.sb)(d()))});function w(e){var t=e.children,n=e.isOpen,l=void 0!==n&&n,i=e.onClose;return r.createElement(v,null,r.createElement(h,{isTriggered:l,onClick:i}),r.createElement(x,{isTriggered:l},r.createElement(b,null,r.createElement(c.t,{layout:"ghost",icon:s.a,onClick:i})),t))}}}]);